{"version":3,"file":"MBWayInput.js","sources":["../../../../../../src/components/MBWay/components/MBWayInput/MBWayInput.tsx"],"sourcesContent":["import { h } from 'preact';\nimport { useState, useRef } from 'preact/hooks';\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport { MBWayInputProps } from './types';\nimport './MBWayInput.scss';\nimport PhoneInput from '../../../internal/PhoneInput';\nimport LoadingWrapper from '../../../internal/LoadingWrapper';\nimport usePhonePrefixes from '../../../internal/PhoneInput/usePhonePrefixes';\n\nfunction MBWayInput(props: MBWayInputProps) {\n    const { i18n, loadingContext } = useCoreContext();\n\n    const phoneInputRef = useRef(null);\n\n    const { allowedCountries = [] } = props;\n\n    const [status, setStatus] = useState<string>('ready');\n\n    this.setStatus = setStatus;\n    this.showValidation = phoneInputRef?.current?.triggerValidation;\n\n    const { loadingStatus: prefixLoadingStatus, phonePrefixes } = usePhonePrefixes({ allowedCountries, loadingContext, handleError: props.onError });\n\n    const onChange = ({ data, valid, errors, isValid }) => {\n        props.onChange({ data, valid, errors, isValid });\n    };\n\n    return (\n        <LoadingWrapper status={prefixLoadingStatus}>\n            <div className=\"adyen-checkout__mb-way\">\n                <PhoneInput {...props} items={phonePrefixes} ref={phoneInputRef} onChange={onChange} data={props.data} />\n\n                {props.showPayButton && props.payButton({ status, label: i18n.get('confirmPurchase') })}\n            </div>\n        </LoadingWrapper>\n    );\n}\n\nMBWayInput.defaultProps = {\n    onChange: () => {},\n    phoneNumberKey: 'mobileNumber',\n    phoneNumberErrorKey: 'mobileNumber.invalid'\n};\n\nexport default MBWayInput;\n"],"names":["MBWayInput","props","i18n","loadingContext","useCoreContext","phoneInputRef","useRef","allowedCountries","status","setStatus","useState","this","showValidation","current","triggerValidation","loadingStatus","prefixLoadingStatus","phonePrefixes","usePhonePrefixes","handleError","onError","h","LoadingWrapper","div","className","PhoneInput","items","ref","onChange","data","valid","errors","isValid","showPayButton","payButton","label","get","defaultProps","phoneNumberKey","phoneNumberErrorKey"],"mappings":"waASA,SAASA,EAAWC,GAChB,MAAMC,KAAEA,EAAIC,eAAEA,GAAmBC,IAE3BC,EAAgBC,EAAO,OAEvBC,iBAAEA,EAAmB,IAAON,GAE3BO,EAAQC,GAAaC,EAAiB,SAE7CC,KAAKF,UAAYA,EACjBE,KAAKC,eAAiBP,GAAeQ,SAASC,kBAE9C,MAAQC,cAAeC,EAAmBC,cAAEA,GAAkBC,EAAiB,CAAEX,mBAAkBJ,iBAAgBgB,YAAalB,EAAMmB,UAMtI,OACIC,EAACC,EAAAA,CAAed,OAAQQ,GACpBK,EAACE,MAAAA,CAAIC,UAAU,0BACXH,EAACI,EAAAA,IAAexB,EAAOyB,MAAOT,EAAeU,IAAKtB,EAAeuB,SAP5D,EAAGC,OAAMC,QAAOC,SAAQC,cACrC/B,EAAM2B,SAAS,CAAEC,OAAMC,QAAOC,SAAQC,WAAQ,EAM+CH,KAAM5B,EAAM4B,OAEhG5B,EAAMgC,eAAiBhC,EAAMiC,UAAU,CAAE1B,SAAQ2B,MAAOjC,EAAKkC,IAAI,sBAIlF,CAEApC,EAAWqC,aAAe,CACtBT,SAAU,OACVU,eAAgB,eAChBC,oBAAqB"}