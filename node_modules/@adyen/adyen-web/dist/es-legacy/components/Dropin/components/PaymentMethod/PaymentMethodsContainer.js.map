{"version":3,"file":"PaymentMethodsContainer.js","sources":["../../../../../../src/components/Dropin/components/PaymentMethod/PaymentMethodsContainer.tsx"],"sourcesContent":["import { h } from 'preact';\nimport PaymentMethodItem from './PaymentMethodItem/PaymentMethodItem';\nimport { useCoreContext } from '../../../../core/Context/CoreProvider';\nimport { useMemo } from 'preact/hooks';\nimport uuid from '../../../../utils/uuid';\nimport classNames from 'classnames';\nimport UIElement from '../../../internal/UIElement';\n\nexport interface PaymentMethodsContainerProps {\n    label: string;\n    classNameModifiers?: string[];\n    paymentMethods: UIElement[];\n    activePaymentMethod?: UIElement;\n    /**\n     * Map that keeps track of which Payment methods (UIElements) already got rendered in the UI\n     */\n    cachedPaymentMethods: Record<string, boolean>;\n    showRemovePaymentMethodButton?: boolean;\n    onSelect?: (paymentMethod: UIElement) => void;\n    onDisableStoredPaymentMethod?: (storedPaymentMethod) => void;\n    isDisablingPaymentMethod?: boolean;\n    isLoading: boolean;\n    showRadioButton?: boolean;\n}\n\nfunction PaymentMethodsContainer({\n    label,\n    classNameModifiers = [],\n    paymentMethods = [],\n    activePaymentMethod = null,\n    cachedPaymentMethods = {},\n    isLoading = false,\n    isDisablingPaymentMethod = false,\n    showRemovePaymentMethodButton,\n    onDisableStoredPaymentMethod = () => {},\n    onSelect,\n    showRadioButton\n}: Readonly<PaymentMethodsContainerProps>) {\n    const { i18n } = useCoreContext();\n    const selectListId: string = useMemo(() => `select-${uuid()}`, []);\n    const paymentMethodListClassnames = classNames([\n        'adyen-checkout__payment-methods-list',\n        { 'adyen-checkout__payment-methods-list--loading': isLoading },\n        ...classNameModifiers.map(m => `adyen-checkout__payment-methods-list--${m}`)\n    ]);\n\n    return (\n        <div className=\"adyen-checkout-payment-methods-container\">\n            {!!label.length && (\n                <label htmlFor={selectListId} className=\"adyen-checkout-payment-methods-list-label\">\n                    {label}\n                </label>\n            )}\n            <div\n                id={selectListId}\n                className={paymentMethodListClassnames}\n                role=\"radiogroup\"\n                aria-label={i18n.get('paymentMethodsList.aria.label')}\n                required\n            >\n                {paymentMethods.map((paymentMethod, index, paymentMethodsCollection) => {\n                    const isSelected = activePaymentMethod && activePaymentMethod._id === paymentMethod._id;\n                    const isLoaded = paymentMethod._id in cachedPaymentMethods;\n                    const isNextOneSelected =\n                        activePaymentMethod &&\n                        paymentMethodsCollection[index + 1] &&\n                        activePaymentMethod._id === paymentMethodsCollection[index + 1]._id;\n\n                    return (\n                        <PaymentMethodItem\n                            className={classNames({ 'adyen-checkout__payment-method--next-selected': isNextOneSelected })}\n                            standalone={paymentMethods.length === 1}\n                            paymentMethod={paymentMethod}\n                            isSelected={isSelected}\n                            isDisablingPaymentMethod={isSelected && isDisablingPaymentMethod}\n                            isLoaded={isLoaded}\n                            isLoading={isLoading}\n                            onSelect={onSelect}\n                            key={paymentMethod._id}\n                            showRemovePaymentMethodButton={showRemovePaymentMethodButton}\n                            showRadioButton={showRadioButton}\n                            onDisableStoredPaymentMethod={onDisableStoredPaymentMethod}\n                        />\n                    );\n                })}\n            </div>\n        </div>\n    );\n}\n\nexport default PaymentMethodsContainer;\n"],"names":["PaymentMethodsContainer","label","classNameModifiers","paymentMethods","activePaymentMethod","cachedPaymentMethods","isLoading","isDisablingPaymentMethod","showRemovePaymentMethodButton","onDisableStoredPaymentMethod","onSelect","showRadioButton","i18n","useCoreContext","selectListId","useMemo","uuid","paymentMethodListClassnames","classNames","map","m","h","div","className","length","htmlFor","id","role","aria-label","get","required","paymentMethod","index","paymentMethodsCollection","isSelected","_id","isLoaded","isNextOneSelected","PaymentMethodItem","standalone","key"],"mappings":"wXAyBA,SAASA,GAAwBC,MAC7BA,EAAKC,mBACLA,EAAqB,GAAEC,eACvBA,EAAiB,GAAEC,oBACnBA,EAAsB,KAAIC,qBAC1BA,EAAuB,CAAA,EAAEC,UACzBA,GAAY,EAAKC,yBACjBA,GAA2B,EAAKC,8BAChCA,EAA6BC,6BAC7BA,EAA+B,OAAQC,SACvCA,EAAQC,gBACRA,IAEA,MAAMC,KAAEA,GAASC,IACXC,EAAuBC,GAAQ,IAAM,UAAUC,OAAU,IACzDC,EAA8BC,EAAW,CAC3C,uCACA,CAAE,gDAAiDZ,MAChDJ,EAAmBiB,KAAIC,GAAK,yCAAyCA,QAG5E,OACIC,EAACC,MAAAA,CAAIC,UAAU,8CACRtB,EAAMuB,QACLH,EAACpB,QAAAA,CAAMwB,QAASX,EAAcS,UAAU,6CACnCtB,GAGToB,EAACC,MAAAA,CACGI,GAAIZ,EACJS,UAAWN,EACXU,KAAK,aACLC,aAAYhB,EAAKiB,IAAI,iCACrBC,UAAAA,GAEC3B,EAAegB,KAAI,CAACY,EAAeC,EAAOC,KACvC,MAAMC,EAAa9B,GAAuBA,EAAoB+B,MAAQJ,EAAcI,IAC9EC,EAAWL,EAAcI,OAAO9B,EAChCgC,EACFjC,GACA6B,EAAyBD,EAAQ,IACjC5B,EAAoB+B,MAAQF,EAAyBD,EAAQ,GAAGG,IAEpE,OACId,EAACiB,EAAAA,CACGf,UAAWL,EAAW,CAAE,gDAAiDmB,IACzEE,WAAsC,IAA1BpC,EAAeqB,OAC3BO,cAAeA,EACfG,WAAYA,EACZ3B,yBAA0B2B,GAAc3B,EACxC6B,SAAUA,EACV9B,UAAWA,EACXI,SAAUA,EACV8B,IAAKT,EAAcI,IACnB3B,8BAA+BA,EAC/BG,gBAAiBA,EACjBF,6BAA8BA,QAO1D"}